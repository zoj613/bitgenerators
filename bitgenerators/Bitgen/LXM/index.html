<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>LXM (bitgenerators.Bitgen.LXM)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="stylesheet" href="../../../odoc.support/katex.min.css"/><script src="../../../odoc.support/katex.min.js"></script><script>
//<![CDATA[

          document.addEventListener("DOMContentLoaded", function () {
            var elements = Array.from(document.getElementsByClassName("odoc-katex-math"));
            for (var i = 0; i < elements.length; i++) {
              var el = elements[i];
              var content = el.textContent;
              var new_el = document.createElement("span");
              new_el.setAttribute("class", "odoc-katex-math-rendered");
              var display = el.classList.contains("display");
              katex.render(content, new_el, { throwOnError: false, displayMode: display });
              el.replaceWith(new_el);
            }
          });
        
//]]>
</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">bitgenerators</a> &#x00BB; <a href="../index.html">Bitgen</a> &#x00BB; LXM</nav><header class="odoc-preamble"><h1>Module <code><span>Bitgen.LXM</span></code></h1><p>The LXM generator combines two simple generators with an optional additional hashing of the output. The first generator is a LCG of with and update <code class="odoc-katex-math">s = a s + b \mod 2^{64}</code> where <code class="odoc-katex-math">a</code> is <code class="odoc-katex-math">2862933555777941757</code> and <code class="odoc-katex-math">b</code> is settable. The default value of <code class="odoc-katex-math">b</code> is <code class="odoc-katex-math">3037000493</code>. The second is the standard 64-bit xorshift generator.</p><p>The output of these two is combined using addition. This sum is hashed using the Murmur3 hash function using the parameters suggested by David Stafford. Is pseudo-code, each value is computed as <code>Mix(LCG + Xorshift)</code>.</p><p>The LXM state vector consists of a 4-element array of 64-bit unsigned integers that constraint the state of the Xorshift generator and an addition 64-bit unsigned integer that holds the state of the LCG. These initial states are set using <a href="../SeedSequence/index.html"><code>SeedSequence</code></a></p><p>LXM can be used in parallel applications by calling <a href="#val-jump"><code>LXM.jump</code></a> which provides a new instance with a state that has been updated as-if <code class="odoc-katex-math">2^{128}</code> random numbers have been generated. This allows the original sequence to be split so that distinct segments can be used in each worker process.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p><code>t</code> is the state of the bitgenerator.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-next_uint64"><a href="#val-next_uint64" class="anchor"></a><code><span><span class="keyword">val</span> next_uint64 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Stdint</span>.uint64 * <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>next_uint64 t</code> Generates a random unsigned 64-bit integer and a state of the generator advanced forward by one step.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-next_uint32"><a href="#val-next_uint32" class="anchor"></a><code><span><span class="keyword">val</span> next_uint32 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Stdint</span>.uint32 * <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>next_uint32 t</code> Generates a random unsigned 32-bit integer and a state of the generator advanced forward by one step.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-next_bounded_uint64"><a href="#val-next_bounded_uint64" class="anchor"></a><code><span><span class="keyword">val</span> next_bounded_uint64 : <span><span class="xref-unresolved">Stdint</span>.uint64 <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Stdint</span>.uint64 * <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>next_bounded_uint64 b t</code> Generates a random unsigned 64-bit integer in the interval <code class="odoc-katex-math">[0, b)</code>. It returns the integer as well as the state of the generator advanced forward. To generate an integer in the range <code class="odoc-katex-math">[a, b)</code>, one should generate an integer in <code class="odoc-katex-math">[0, b - a)</code> using <code>next_bounded_uint64 (b - a) t</code> and then add <code>a</code> to the resulting integer to get the output in the desired range.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-next_double"><a href="#val-next_double" class="anchor"></a><code><span><span class="keyword">val</span> next_double : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> float * <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>next_double t</code> Generates a random 64 bit float and a state of the generator advanced forward by one step.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-initialize"><a href="#val-initialize" class="anchor"></a><code><span><span class="keyword">val</span> initialize : <span><span class="xref-unresolved">Bitgen__.Seed.SeedSequence.t</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>initialize s</code> Returns the initial state of the generator. The random stream is determined by the initialization of the seed sequence <code>s</code> of <a href="../SeedSequence/index.html#type-t"><code>SeedSequence.t</code></a> type.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-initialize_full"><a href="#val-initialize_full" class="anchor"></a><code><span><span class="keyword">val</span> initialize_full : <span><span class="xref-unresolved">Stdint</span>.uint64 <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Bitgen__.Seed.SeedSequence.t</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>initialize_full b seedseq</code> initialiazes the state of the LXM generator where <code>b</code> is the settable additive constant of the underlying LCG generator.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-jump"><a href="#val-jump" class="anchor"></a><code><span><span class="keyword">val</span> jump : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>jump t</code> is equivalent to <code class="odoc-katex-math">2^{128}</code> calls to <a href="#val-next_uint64"><code>LXM.next_uint64</code></a>.</p></div></div></div></body></html>
