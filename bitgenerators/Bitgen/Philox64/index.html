<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Philox64 (bitgenerators.Bitgen.Philox64)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="stylesheet" href="../../../odoc.support/katex.min.css"/><script src="../../../odoc.support/katex.min.js"></script><script>
//<![CDATA[

          document.addEventListener("DOMContentLoaded", function () {
            var elements = Array.from(document.getElementsByClassName("odoc-katex-math"));
            for (var i = 0; i < elements.length; i++) {
              var el = elements[i];
              var content = el.textContent;
              var new_el = document.createElement("span");
              new_el.setAttribute("class", "odoc-katex-math-rendered");
              var display = el.classList.contains("display");
              katex.render(content, new_el, { throwOnError: false, displayMode: display });
              el.replaceWith(new_el);
            }
          });
        
//]]>
</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">bitgenerators</a> &#x00BB; <a href="../index.html">Bitgen</a> &#x00BB; Philox64</nav><header class="odoc-preamble"><h1>Module <code><span>Bitgen.Philox64</span></code></h1><p>Philox64 is a 64-bit PRNG that uses a counter-based design based on weaker (and faster) versions of cryptographic functions. Instances using different values of the key produce independent sequences. Philox has a period of <code class="odoc-katex-math">2^{256} - 1</code> and supports arbitrary advancing and jumping the sequence in increments of <code class="odoc-katex-math">2^{128}</code>. These features allow multiple non-overlapping sequences to be generated.</p><p>The Philox state vector consists of a 256-bit value encoded as a 4-element unsigned 64-bit tuple and a 128-bit value encoded as a 2-element unsigned 64-bit tuple. The former is a counter which is incremented by 1 for every 4 64-bit randoms produced. The second is a key which determined the sequence produced. Using different keys produces independent sequences.</p><p><a href="../SeedSequence/index.html"><code>SeedSequence</code></a> is used to produce a high-quality initial state for the key vector. The counter is set to 0.</p><p>The preferred way to use Philox in parallel applications is to use the <a href="../SeedSequence/index.html#val-spawn"><code>SeedSequence.spawn</code></a> function to obtain entropy values, and to use these to generate new instance of a Philox bitgenerator:</p><pre class="language-ocaml"><code>open Bitgen
let gens =
    SeedSequence.initialize []
    |&gt; SeedSequence.spawn 10
    |&gt; fst
    |&gt; List.map Philox64.initialize</code></pre></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p><code>t</code> is the state of the bitgenerator.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-next_uint64"><a href="#val-next_uint64" class="anchor"></a><code><span><span class="keyword">val</span> next_uint64 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Stdint</span>.uint64 * <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>next_uint64 t</code> Generates a random unsigned 64-bit integer and a state of the generator advanced forward by one step.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-next_uint32"><a href="#val-next_uint32" class="anchor"></a><code><span><span class="keyword">val</span> next_uint32 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Stdint</span>.uint32 * <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>next_uint32 t</code> Generates a random unsigned 32-bit integer and a state of the generator advanced forward by one step.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-next_double"><a href="#val-next_double" class="anchor"></a><code><span><span class="keyword">val</span> next_double : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> float * <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>next_double t</code> Generates a random 64 bit float and a state of the generator advanced forward by one step.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-initialize"><a href="#val-initialize" class="anchor"></a><code><span><span class="keyword">val</span> initialize : <span><span class="xref-unresolved">Bitgen__.Seed.SeedSequence.t</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>initialize s</code> Returns the initial state of the generator. The random stream is determined by the initialization of the seed sequence <code>s</code> of <a href="../SeedSequence/index.html#type-t"><code>SeedSequence.t</code></a> type.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-initialize_ctr"><a href="#val-initialize_ctr" class="anchor"></a><code><span><span class="keyword">val</span> initialize_ctr : 
  <span><span class="label">counter</span>:<span>(<span class="xref-unresolved">Stdint</span>.uint64 * <span class="xref-unresolved">Stdint</span>.uint64 * <span class="xref-unresolved">Stdint</span>.uint64 * <span class="xref-unresolved">Stdint</span>.uint64)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Bitgen__.Seed.SeedSequence.t</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Get the initial state of the generator using a 4-element unsigned 64-bit tuple as the bitgenerator's <code>counter</code> initial state as well as <a href="../SeedSequence/index.html#type-t"><code>SeedSequence.t</code></a> for the initiale state of the generator's <code>key</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-jump"><a href="#val-jump" class="anchor"></a><code><span><span class="keyword">val</span> jump : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>jump t</code> is equivalent to <code class="odoc-katex-math">2^{128}</code> calls to <a href="#val-next_uint64"><code>Philox64.next_uint64</code></a>.</p></div></div></div></body></html>
